<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="BOTGC.Mobile.Pages.PairingInfoPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:NavigationPage="http://schemas.microsoft.com/dotnet/2021/maui"
    NavigationPage.HasNavigationBar="False">

    <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="SecondaryButton" TargetType="Button">
                <Setter Property="FontAttributes" Value="Bold" />
                <Setter Property="CornerRadius" Value="16" />
                <Setter Property="HeightRequest" Value="48" />
                <Setter Property="BackgroundColor" Value="{StaticResource ButtonSecondaryBackground}" />
                <Setter Property="TextColor" Value="{StaticResource TextPrimary}" />
                <Setter Property="TextTransform" Value="None" />
                <Setter Property="HorizontalOptions" Value="Start" />
            </Style>

            <Style x:Key="StepNumberPill" TargetType="Frame">
                <Setter Property="WidthRequest" Value="28" />
                <Setter Property="HeightRequest" Value="28" />
                <Setter Property="CornerRadius" Value="14" />
                <Setter Property="BackgroundColor" Value="{StaticResource PageBackground}" />
                <Setter Property="BorderColor" Value="{StaticResource CardBorder}" />
                <Setter Property="Padding" Value="0" />
                <Setter Property="HasShadow" Value="False" />
                <Setter Property="VerticalOptions" Value="Start" />
            </Style>

            <Style x:Key="StepText" TargetType="Label">
                <Setter Property="FontSize" Value="15" />
                <Setter Property="LineHeight" Value="1.25" />
                <Setter Property="TextColor" Value="{StaticResource TextSecondary}" />
                <Setter Property="HorizontalOptions" Value="FillAndExpand" />
                <Setter Property="VerticalOptions" Value="Start" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>
    
    <Grid RowDefinitions="Auto,*,Auto">

        <!-- Title + intro -->
        <VerticalStackLayout Grid.Row="0" Padding="22,22,22,12" Spacing="8">
            <Label
                Text="Link this phone"
                FontSize="30"
                FontAttributes="Bold"
                TextColor="{StaticResource TextPrimary}" />

            <Label
                Text="Pair this device to your Burton on Trent Golf Club account so you can use the app."
                FontSize="15"
                LineHeight="1.25"
                TextColor="{StaticResource TextSecondary}" />
        </VerticalStackLayout>

        <!-- Card -->
        <Frame
            Grid.Row="1"
            Margin="22,0"
            BackgroundColor="{StaticResource CardBackground}"
            BorderColor="{StaticResource CardBorder}"
            CornerRadius="20"
            Padding="16"
            HasShadow="False"
            VerticalOptions="FillAndExpand">

            <VerticalStackLayout Spacing="28" VerticalOptions="FillAndExpand">

                <Label
                    Text="What you need to do"
                    FontSize="16"
                    FontAttributes="Bold"
                    TextColor="{StaticResource TextPrimary}" />

                <!-- Step 1 -->
                <Grid ColumnDefinitions="28,12,*">
                    <Frame Style="{StaticResource StepNumberPill}">
                        <Label
                            Text="1"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}" />
                    </Frame>

                    <Label
                        Grid.Column="2"
                        Style="{StaticResource StepText}"
                        Text="Open the Burton on Trent Golf Club website on this phone using the button below. This will take you directly to the page needed to link your phone." />
                </Grid>

                <Grid ColumnDefinitions="28,12,*">
                    <Button
                        Grid.Column="2"
                        Text="Open botgc.co.uk"
                        Style="{StaticResource SecondaryButton}"
                        HorizontalOptions="Fill"
                        Clicked="OpenWebsiteButton_Clicked" />
                </Grid>

                <!-- Step 2 -->
                <Grid ColumnDefinitions="28,12,*">
                    <Frame Style="{StaticResource StepNumberPill}">
                        <Label
                            Text="2"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}" />
                    </Frame>

                    <Label
                        Grid.Column="2"
                        Style="{StaticResource StepText}"
                        Text="If you’re using another phone, tablet, or laptop, sign in using your PIN number and password. You can find the page in the ‘My Golf’ menu under ‘Pair my phone’." />
                </Grid>

                <!-- Step 3 -->
                <Grid ColumnDefinitions="28,12,*">
                    <Frame Style="{StaticResource StepNumberPill}">
                        <Label
                            Text="3"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}" />
                    </Frame>

                    <Label
                        Grid.Column="2"
                        Style="{StaticResource StepText}"
                        Text="On the pairing page, either scan the QR code shown, or tap the ‘Pair device’ button. If you tap it on this phone, the app will open automatically." />
                </Grid>

                <Grid VerticalOptions="FillAndExpand" />

            </VerticalStackLayout>
        </Frame>

        <!-- Continue -->
        <Grid Grid.Row="2" Padding="22">
            <Button
                Text="Continue"
                Style="{StaticResource PrimaryCtaButton}"
                Clicked="ContinueButton_Clicked" />
        </Grid>

    </Grid>
</ContentPage>
