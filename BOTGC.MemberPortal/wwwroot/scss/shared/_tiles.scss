@use "./variables" as *;

$tile-height: 170px;

/* Tile grid */
.tiles--dashboard {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 16px;
    margin-top: 1.25rem;
}

/* Base tile */
.tile--dash {
    position: relative;
    height: $tile-height;
    padding: 16px 16px 16px 120px; // space on left for avatar
    border-radius: 18px;
    box-shadow: 0 10px 18px rgba(15, 23, 42, .18);
    border: none;
    display: flex;
    align-items: center;
    text-align: left;
    cursor: pointer;
    transition: transform .15s ease-out, box-shadow .15s ease-out;
    background: var(--bg, #ffffff);
    color: var(--fg, #111);
    overflow: hidden;

    &::before {
        /* vertical stripe on left (~1/5 width) */
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 22%;
        height: 100%;
        background: var(--stripe, #e5e5e5);
    }
}

/* Anchor tiles behave like cards */
.tiles--dashboard a.tile--dash {
    text-decoration: none;
    color: inherit;
}

/* Subtle lift on hover */
.tile--dash:hover,
.tile--dash:focus-visible {
    transform: translateY(-2px);
    box-shadow: 0 14px 22px rgba(15, 23, 42, .22);
}

/* Avatar circle overlapping the stripe */
.tile__avatar {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    width: 95px;
    height: 95px;
    border-radius: 999px;
    overflow: hidden;
    border: 3px solid #ffffff; // small white edge
    box-shadow: 0 4px 8px rgba(15, 23, 42, .25);
    background: #fff;

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
}

/* Icon-style avatar (non buddy) – same circle, usually a flat icon */
.tile__avatar--icon img {
    object-fit: contain;
    padding: 10px;
}

/* Text block on the right */
.tile__text {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
}

.tile__name {
    font-size: 1.05rem;
    font-weight: 700;
    margin: 0 0 .25rem;
}

.tile__hint {
    font-size: .9rem;
    line-height: 1.4;
    color: $muted;
}

/* Optional bottom meta (counts, progress text) */
.tile__meta,
.voucher-tile__count,
.tile__progress-label {
    margin-top: .4rem;
    font-size: .8rem;
    font-weight: 600;
}

/* Per-type stripe and background colours */

.tiles--dashboard .tile--dash-vouchers {
    --stripe: #1e9b7a;
    --bg: #d6f4e6;
    --fg: #111;
}

.tiles--dashboard .tile--dash-buddy {
    --stripe: #e86a8d;
    --bg: #fbe1ea;
    --fg: #111;
}

.tiles--dashboard .tile--dash-rules {
    --stripe: #f59e0b;
    --bg: #ffe39a;
    --fg: #111;
}

.tiles--dashboard .tile--dash-handicap {
    --stripe: #3b82f6;
    --bg: #e0e4ff;
    --fg: #111;
}

.tiles--dashboard .tile--dash-progress {
    --stripe: #16a34a;
    --bg: #d7f3d2;
    --fg: #111;
}

/* Mobile: single column, still equal height */
@media (max-width: 540px) {
    .tiles--dashboard {
        grid-template-columns: 1fr;
    }
}
